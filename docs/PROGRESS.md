# VidFetch 开发进度追踪

本文档用于记录 VidFetch 项目的开发进度、功能实现状态以及待办事项。

## 📅 项目概况

*   **当前阶段**: 项目初始化 / 基础架构搭建
*   **最近更新**: 2025-11-23
*   **目标**: 构建一个基于 yt-dlp 的跨平台 GUI 视频下载工具。

---

## 🚀 功能开发进度

### P0 - 核心功能 (Must Have)
> 必须实现的功能，构成产品的最小可行性版本 (MVP)。

- [ ] **F-01 链接解析**
    - [ ] 支持单个视频 URL 解析
    - [ ] 提取标题、时长、缩略图
    - [ ] 提取可用分辨率列表
- [x] **F-02 格式选择**
    - [x] 视频+音频合并 (MP4/MKV)
    - [x] 仅提取音频 (MP3/M4A)
- [x] **F-03 画质选择**
    - [x] 支持 8K/4K/2K/1080p/720p 等分辨率选择
- [ ] **F-04 任务管理**
    - [ ] 任务队列 UI
    - [ ] 暂停/继续/取消下载
    - [x] 实时显示进度 (仅百分比)
- [ ] **F-05 批量下载** (注: PRD中标记为P1，但作为核心体验建议早期考虑)
    - [ ] 解析播放列表/频道
    - [ ] 批量勾选下载
- [ ] **F-11 内核更新** (系统 P0)
    - [ ] 启动时检查 yt-dlp 版本
    - [ ] 自动更新 yt-dlp 二进制文件
- [x] **F-12 FFmpeg 检测** (系统 P0)
    - [x] 检测系统 FFmpeg
    - [x] 引导安装或自动下载便携版 (已集成 ffmpeg-static)

### P1 - 高级功能 (Should Have)
> 显著提升用户体验的重要功能。

- [ ] **F-06 字幕下载**
    - [ ] 自动检测/下载字幕 (.srt/.vtt)
    - [ ] 嵌入视频选项
- [ ] **F-07 元数据嵌入**
    - [ ] 写入封面、标题、作者等信息
- [x] **F-08 Cookies 支持**
    - [x] 导入 cookies.txt
    - [ ] 浏览器 Cookies 获取 (会员/登录内容)
- [ ] **F-09 代理设置**
    - [ ] HTTP/SOCKS5 代理配置

### P2 - 扩展功能 (Nice to Have)
> 锦上添花的功能，可在后期迭代。

- [ ] **F-10 文件名模版**
    - [ ] 自定义输出文件名格式
- [ ] **F-13 深色模式**
    - [ ] UI 主题切换 (跟随系统/手动)
- [ ] **F-14 剪贴板监听**
    - [ ] 自动监测链接并提示

---

## 🛠 技术架构与基础设施

- [x] **项目初始化**
    - [x] 框架搭建 (Electron + Vue 3 + TypeScript + Vite)
    - [x] 依赖管理 (已引入 `yt-dlp-exec`, `ffmpeg-static`)
    - [ ] 目录结构规范化
- [ ] **CI/CD**
    - [ ] 构建流程配置
    - [ ] 自动发布 Release
- [ ] **跨平台适配**
    - [ ] Windows 打包测试
    - [ ] macOS 打包测试
    - [ ] Linux 打包测试

---

## 📝 更新日志 (Changelog)

### [Unreleased]
- 初始化项目结构
- 创建 PRD 文档
- 创建开发进度文档 (本文件)
- **Fix**: 修复打包后无法调用 `yt-dlp` 的问题 (集成独立二进制文件)
- **Feat**: 添加 Cookies 支持 (F-08)，解决 YouTube 登录限制问题
- **Fix**: 修复开发环境与生产环境的二进制路径解析逻辑
